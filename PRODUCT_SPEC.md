# ATOM: Product Specification & User Journey

## 1. Концепция Продукта
**ATOM** — это интеллектуальная экосистема для трейдеров, объединяющая функции торгового дневника, аналитической платформы и риск-менеджера.
**Миссия:** Превратить хаотичную торговлю в системный бизнес с помощью математики и ИИ.
**Слоган:** "Turn Data into Action" (Преврати данные в действие).

---

## 2. Ключевой Функционал (Features)

### 2.1. Ядро Аналитики (The Core)
*   **Optimal f (Ральф Винс):** Расчет идеальной доли капитала для риска. Графическая визуализация "холма прибыли" и "обрыва банкротства".
*   **SQN (System Quality Number):** Оценка качества торговой системы ("Мусор" vs "Грааль").
*   **Monte Carlo Simulation:** Стресс-тестирование стратегии. Прогноз вероятности разорения и диапазонов будущей доходности (10,000 симуляций).
*   **MAE / MFE Анализ:**
    *   *MAE (Max Adverse Excursion):* Анализ "пересиживания" убытков. Рекомендации по уменьшению стоп-лоссов.
    *   *MFE (Max Favorable Excursion):* Анализ недополученной прибыли. Рекомендации по улучшению тейк-профитов.

### 2.2. Базовая Статистика
*   **Dashboard:** Net Profit, Win Rate, Profit Factor, Drawdown, Average Win/Loss.
*   **Equity Curve:** График роста депозита.
*   **Calendar View:** Тепловая карта доходности по дням (как в GitHub).

### 2.3. AI-Инсайты (Smart Assistant)
*   **Pattern Recognition:** Поиск скрытых закономерностей ("Ты теряешь по пятницам", "Твои шорты на ETH убыточны").
*   **Discipline Score:** Оценка соблюдения собственных правил трейдера.
*   **"What-If" Simulator:** Симуляция альтернативных сценариев ("Что если бы я всегда ставил безубыток?").

### 2.4. Управление Риском (Risk Management)
*   **Risk Calculator:** Калькулятор объема позиции перед входом (на основе Optimal f или фикс. %).
*   **Tilt-Breaker:** Push-уведомления при серии убытков ("Остановись, ты в тильте").

---

## 3. Путь Клиента (User Journey)

### Шаг 1: Регистрация и Настройка (Onboarding)
1.  Пользователь регистрируется (Email / Google).
2.  **Setup Wizard:**
    *   Указывает начальный депозит (например, $10,000).
    *   Выбирает биржи/терминалы (Binance, Bybit, MT4/5).
    *   Задает базовые правила риска (например, "Макс риск на сделку 2%").

### Шаг 2: Загрузка Данных (Data Input)
*Вариант А: Автоматический (API)*
*   Пользователь вводит Read-Only API ключи биржи.
*   ATOM автоматически подтягивает историю сделок за последний год.

*Вариант Б: Полуавтоматический (CSV)*
*   Пользователь выгружает отчет из терминала и перетаскивает файл в ATOM.

*Вариант В: Ручной (Mobile / Web)*
*   Пользователь нажимает кнопку "+" (быстрый ввод).
*   Вводит: Тикер, Направление (Long/Short), Цену входа, Стоп, Тейк.
*   *Опционально:* Голосовой ввод ("Купил биток...").

### Шаг 3: Анализ и Инсайты (The "Aha!" Moment)
1.  Пользователь видит **Dashboard**.
2.  ATOM подсвечивает **SQN**: "Твоя система имеет рейтинг 2.5 (Средне)".
3.  Пользователь заходит в раздел **"Optimization"**.
    *   Видит график **Optimal f**: "Ты рискуешь 1%, а можешь рисковать 3.5% и зарабатывать в 3 раза больше".
    *   Видит **MAE анализ**: "Твои стопы слишком широкие. Уменьши их на 20%, и прибыль вырастет".
4.  Пользователь запускает **Monte Carlo**: "Вероятность слить депозит в следующем месяце — 5%".

### Шаг 4: Торговля с ATOM (Daily Routine)
1.  Перед сделкой пользователь открывает **Risk Calculator**.
2.  Вводит стоп-лосс.
3.  ATOM говорит: "Входи объемом 0.15 BTC".
4.  После закрытия сделки пользователь добавляет **Эмоцию** (смайлик) и **Скриншот**.

---

## 4. Техническая Реализация (High Level)

### Платформы
*   **Web:** Полнофункциональная аналитическая панель (Desktop).
*   **Mobile (PWA/Native):** Компаньон для быстрого ввода сделок и уведомлений.

### Стек Технологий
*   **Backend:** Python (FastAPI) — идеально для математических расчетов (Pandas, NumPy).
*   **Database:** PostgreSQL — надежное хранение финансовых данных.
*   **Frontend:** React (Next.js) — быстрый и отзывчивый интерфейс.
*   **AI/ML:** Scikit-learn (для кластеризации и регрессии), OpenAI API (для текстовых инсайтов).

---

## 5. План Разработки (MVP Roadmap)

1.  **Phase 1: Foundation**
    *   Бэкенд (FastAPI + DB).
    *   Авторизация.
    *   Ручной ввод сделок (CRUD).
    *   Базовая статистика (PnL, Winrate).

2.  **Phase 2: The Math (Unique Value)**
    *   Расчет Optimal f, HPR, G.
    *   Расчет SQN.
    *   Импорт CSV (Binance/Bybit).

3.  **Phase 3: Advanced Analytics**
    *   MAE/MFE анализ.
    *   Monte Carlo симуляция.
    *   Визуализация графиков (Equity, Drawdown).

4.  **Phase 4: Mobile & AI**
    *   Адаптация под мобильные устройства.
    *   AI-советы и паттерны.

---

## 6. Design System (Визуальный код)

### 6.1. Концепция: "Bloomberg meets Cyberpunk"
Профессиональный минимализм с технологичными акцентами. Интерфейс должен выглядеть как инструмент из будущего, но оставаться строгим и функциональным.

### 6.2. Цветовая палитра
*   **Background (Фон):** Deep Space (`#0B0E14`) — основной темный фон.
*   **Surface (Карточки):** Midnight Blue (`#151921`) — для виджетов и панелей.
*   **Primary (Акцент):** Electric Blue (`#3B82F6`) — кнопки, активные элементы, ИИ-инсайты.
*   **Success (Прибыль):** Emerald Green (`#10B981`) — спокойный зеленый, не вызывающий эйфории.
*   **Danger (Убыток):** Soft Rose (`#F43F5E`) — приглушенный красный, снижающий уровень стресса.
*   **Neutral:** Slate Gray (`#94A3B8`) — для второстепенного текста.

### 6.3. Типографика
*   **Основной текст:** `Inter` или `Geist Sans` (чистый, современный гротеск).
*   **Цифры и данные:** `JetBrains Mono` или `Roboto Mono` (моноширинный шрифт для идеального выравнивания колонок в таблицах).

### 6.4. UI-принципы
*   **Bento Grid:** Модульная сетка из плиток с закругленными углами (12px-16px).
*   **Glassmorphism:** Легкое размытие фона (backdrop-filter) для модальных окон и выпадающих списков.
*   **Micro-interactions:** Плавные анимации при наведении на графики и переключении вкладок.
*   **Mobile First:** Навигация в нижней части экрана (Tab Bar), крупные области нажатия.
